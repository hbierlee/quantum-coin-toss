\documentclass[oneside,a4paper]{article}

% ========== Preamble (packages, definitions etc.) ==========

\usepackage[utf8]{inputenc}
\usepackage{graphicx}
\usepackage{xcolor}
\usepackage{amsmath, amsthm, amssymb}
\usepackage{csquotes}
\usepackage{hyperref}
\usepackage{listings}
\usepackage{lmodern}
\usepackage{float}

\setlength{\parskip}{\baselineskip}

%\newcounter{questionnum} \setcounter{questionnum}{0}
%\newcommand{\question}[1]{%
%  \refstepcounter{questionnum}%
%  \paragraph{Question~\arabic{questionnum}:}{\emph{#1}}}

\newcommand\filltoend{\leavevmode{\unskip
  \leaders\hrule height.5ex depth\dimexpr-.5ex+0.4pt\hfill\hbox{}%
  \parfillskip=0pt\endgraf}}

\newcommand{\problem}[2]{%
	\vspace{-0.7em}
	\hspace{0.02\textwidth}
	\begin{minipage}[t][][b]{0.95\textwidth}
		{\bf \hspace{-0.015\textwidth}\makebox[7.5em][l]{{#1} ~~\filltoend}}%
		\hspace{1.2mm}{\it #2}%
	\end{minipage}
}

\lstset{ % Set the default style for code listings
	numbers=left, 
	numberstyle=\scriptsize, 
	numbersep=8pt,
	basicstyle=\scriptsize\ttfamily,
	keywordstyle=\color{blue},
	stringstyle=\color{red},
	commentstyle=\color{green!70!black},
	breaklines=true,
	frame=single, 
	language=C++,
	captionpos=b,
	tabsize=4,
	showstringspaces=false
}


% ========== Title page ==========

\title {
	\includegraphics[width=0.6\textwidth]{UU_logo.pdf}\\[1em]
	Cryptology \\
	Report\\[1em]
	%\\[3em]
	Quantum cryptography: Public key distribution and coin tossing
}

\author{
		Hendrik Bierlee \and
		Nodari Kankava
}

\begin{document}



\maketitle
\thispagestyle{empty} % Removes page number for front page
\pagebreak

\newcounter{qcounter}
\setcounter{qcounter}{1}
\newcommand{\question}[1]{\par\vspace{10px}\noindent\textbf{Question \theqcounter \stepcounter{qcounter}:} \emph{#1}\vspace{0.5em}\\\noindent}


% ========== Document contents ==========
\section{Introduction}

\subsection{Problem statement of key-distribution}
%intro Key-Distribution ... 
% why is key-distribution needed, what are the standard approaches? what guarantees of secrecy can we have? what problems do we encounter?
In a scenario when Alice and Bob want to communicate securely, they have to use encryption. Strong cryptography relies on the assumption that shared information is unknown to third parties even when everything about cryptosystem is known, except for the key (kirchoff's principle?) (One-time pad guarantees perfect secrecy). ....

% Public key cryptography and how it solves key sharing
Public key cryptography allows secure distribution of secret key between parties who don't share initial secret information. Public key cryptography makes use of two keys. It is a form of assymetric cryptography. One key (public) is used for encryption and another (private) for decryption. The great thing about this approach is that public key can be shared publicly, anyone can know it, anyone can encrypt using it, but only the owner of private key can decrypt it. (We can see it as an improvement upon kirchoff's principle?)
    %Public Key Infrustructure
    %Diffieâ€“Hellman key exchange protocol
    %double ratchet protocol?

%if two parties can share a key secretly, why not directly share message (no need for cryptography)
Current standard - use public key cryptography to share a secret key, next communication uses symmetric cryptography.
The question is if we can share a secret key, why not directly share a message. Public key cryptography is computationally expensive, so it makes sense to use it to share small information, with good guarantees that following communications will remain secret.


% Guarantees of secrecy

%eavesdropping problem
    % maybe move this to quantum solution part?
Classic information theory assumes that communication can be eavesdropped either passively or actively. There is no protection against copying transmitted information. Communicating parties can verify with high degree of confidence that exchanged message was not modified, but they should assume that information could have been copied. 

% Verification and non-repudiation

%TODO maybe we can abbreviate remote coin-flip problem -> RCP and public key-exchange problem -> PKP
\subsection{Problem statement of the remote coin-flip problem}
The ``coin-flip by telephone'' problem was first described in 1981~\cite{blum1981coin}: two distrusting parties, Alice and Bob, want to play a remote game without a third party where both have an equal win-chance, and neither can cheat.

\subsubsection{Classical solution to the remote coin-flip problem}
In the same paper, the problem was solved by constructing a one-way function $f$ which is two-to-one, meaning that one can have a pair of inputs $x$ and $y$ that map to the same value $f(x)=f(y)$. An example of such a function is $f(x) =|1/x|$, where every allowed input of $x$ and $-x$ map to $1/x$. Furthermore, $x$ and $y$ have some distinguishing property, for instance, $x$ is always even and $y$ is always odd. Because of the one-way nature of $f$, Alice can randomly select $x$ but it is computationally impossible for her to also find out the corresponding $y$.

After selecting $x$, Alice sends $f(x)=c_{\text{Alice}}$ to Bob (her \textit{commitment} to $x$), and from $f(x)$ Bob cannot know whether Alice used $x$ or $y$.
\footnote{
    This idea is reminiscent of a zero-knowledge proof~\cite{goldwasser1989knowledge}, where one party proves they posses certain information without revealing to the other side what that information is.
    Alice proofs to Bob she committed to one of two choices without revealing her actual choice.
}
So, Bob can proclaim a guess to Alice with a 50\% chance of getting it right.
Subsequently, Alice can claim victory or defeat and proof her original choice of $x$ by sending $x$ to Bob.
Bob can verify the claim by recognising that $x$ is in fact even, and by computing $f(x)=c_{\text{Alice}}$.
Alice does not possess $y$, so she cannot possibly cheat by sending Bob an odd value that $f$ maps to $c_{\text{Alice}}$.

A benefit to this problem is that if the messages between Alice and Bob are signed, any attempt at cheating on the part of Alice (say she sends $x'$ such that $f(x') \neq c_{\text{Alice}}$) to a judge.

% Need for quantum solutions

\subsection{Need for new solutions}
Many cryptography methods are founded on the assumption that some procedures, such as prime factorisation, are computationally hard, i.e. $P \neq NP$.
A prime example of this is prime factorisation.
However, breakthroughs in algorithm design may yet invalidate this assumption, or, more on topic, the introduction of quantum computing that can execute algorithms such as Shor's algorithm which can do prime factorisation in polynomial time.
In the next section, we will summarise the quantum methods for solving the problems, which rely on fundamental properties of physics for security.

\section{Problem solution}
Before presenting the solutions for public-key exchange and remote coin-flipping, we introduce some fundamental techniques.
All discussion that follows assumes perfect hardware (such as filters, quantum channels, the ability to pick and send individual photons, etc..).

\subsection{The behaviour of polarized photons}
%TODO IMO these two paragraphs explain everything you need to know about quantum mechanics to understand the algorithms, but there's more in-depth math in the paper. Maybe check with the TA that this is enough for section II.
Light exists of individual photon particles, which can be polarised at any angle using polarizing filters.
Four of these polarization axis are important to us: two rectilinear (0 degrees, 90 degrees) and two diagonal (45 degrees, 135 degrees).
To measure the orientation of a polarized photon, one can again use polarizing filters.
If the orientation (or basis) of the filter matches the orientation of the photon, the photon will pass through, and if the filter is orthogonal to the photon, the photon will not pass through.
In other words, rectilinear photons can be measured accurately 100\% of the time (deterministically) if one uses the `correct', rectilinear filter, since the difference in angle between photon and a filter at 0 degrees is always either 0 or 90 degrees.

But suppose the difference is 45 degrees, such as is always the case when you try to measure rectilinear photons with the `wrong', diagonal filter. 
It happens that the probability of photons passing through this filter is exactly 50\%, so the measurement will tell you exactly nothing about the original polarization.
Photons that did pass through now have the same polarization as the filter, so re-measuring them tells you nothing about their original orientation.
Furthermore, we cannot simply clone photons and perform multiple measurements.
Essentially, you only get one chance to measure a photon.


\subsection{Quantum public key distribution}

% As mentioned in section 1.1 classic information theory assumes that digital communications can be passively monitored. Quantum information theory guarantees that communication cannot be passively monitored and even in the presence of active eavesdropper secure communication is possible if the advarsary is not supprassing communications.

\subsection{The quantum remote coin-flip protocol}
The protocol for a quantum remote coin-flip is as follows:
\begin{enumerate}
	\item
		Alice chooses at random a secret basis (rectilinear or diagonal) and encodes a secret, random bit-string of decent length as polarized photons using her chosen basis.
		She sends over the photons to Bob on a quantum channel.
	\item 
		To win, Bob has to guess Alice's choice of basis.
		But when Bob receives the photons, he does not know how to measure them deterministically to find out their polarization.
		The best he can do is switch bases randomly and independently for each photon, so that he at least ends up with a half-filled rectilinear measurement table and a half-filled diagonal measurement table, one of which is 100\% correct and the other is 50\% correct.
		With nothing to go on, Bob has to make a random guess to Alice as to the original basis.
	\item Alice reveals her basis, and sends over the original bit-string on a classical channel.
	\item Bob can verify Alice's choice, because he can confirm that the elements of the bit-string matches up 100\% with the corresponding measurement table.
\end{enumerate}

Like in the classical solution, the key is that one party has to send a commitment to their choice to the other party, without revealing the choice itself.

\section{Benefits and drawbacks of the solution}
%TODO  and other approaches to solve the problem?

\subsection{Advantages of the quantum remote coin-flip protocol}

\subsubsection{Impossibility of cheating}
The protocol is protected against cheating by the laws of physics, instead of by computational hardness:

\begin{itemize}
	\item Given the polarized photons, Bob cannot guess the basis of the polarization with a probability greater than $1/2$.
	\item Alice has to provide the measurement results of the table with the basis she supposedly picked: if she lies about the basis (because Bob guessed it correctly), she would have to guess the contents of the other table.
	If $n$ photons were sent, the probability that she can perfectly match the table is $\frac{1}{(n/2)^2}=\frac{4}{n^2}$.
	%TODO check that this math is correct
	Getting even one measurement wrong would expose Alice as a cheater.
	\item Alice could send a mix of rectilinear and diagonal photons, but then she would not be able to verify either table: so even if Bob loses, she won't be able to claim her win by verifying.	
	%TODO does not totally make sense, Bob cannot win/lose if Alice does not pick a basis
\end{itemize}

\subsection{Disadvantages of the quantum remote coin-flip protocol}

\subsubsection{No non-repudation} Since digital signatures cannot be created with quantum cryptography, Alice or Bob could deny that the coin-flip happened (and the other would not be able to prove to a judge that it did happen).
%TODO source on digital signatures
%TODO or conversely, they could pretend a coin-flip happened when it did not?

\subsubsection{Need for quantum hardware} %TODO probably for general to both
Even though the quantum remote coin-flip has been performed experimentally, there is no prediction for when quantum hardware will become available.
Furthermore, quantum transmissions 
%TODO ref to the french experiment?
%TODO oppertunit to talk about how close quantum computing is
This is also good news, because it means that for now we can still rely on computational hardness to safeguard the classical solution.
More generally, quantum solutions such as these will become useful on the same day that classical solutions will be compromised.

\subsubsection{Possibility of cheating}
In theory, Alice can cheat by using the Einstein-Podolsky-Rosen effect, which implies that pairs of polarized photons can be created which always collapse to opposite directions (regardless of in which basis they are measured).
Alice could encode the bit-string in such pairs, send one photon of each pair to Bob and keep the other.
If Bob then guesses, say, rectilinear, she can measure her photons in the diagonal basis, thus being able to match the results of Bob's diagonal table, pretending to have used diagonal encoding all along and verifying her `win'.

However, storing and measuring the twin photons with 100\% accuracy is likely impossible in practice.

\subsubsection{Generating random bit-strings}
The bit-string that Alice encodes needs to be generated by a cryptographically secure pseudo-random number generator.
In a post-quantum world, a CSPRNG that relies on prime-factorization (such as a RSA generator) would be compromised, so it obviously should not be used in an implementation of this protocol.
%TODO ref to slides / RSA generator?
Maybe Alice should just measure rectilinear photons diagonally, instead.



\bibliography{sources}
\bibliographystyle{acm}

\end{document}
